(this["webpackJsonplibrary-managmnet-site"]=this["webpackJsonplibrary-managmnet-site"]||[]).push([[0],{164:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(51),c=n.n(s),i=n(28),o=n(29),l=n(35),u=n(34),j=n(237),d=n(245),h=n(130),b=n(14),x=n.n(b),p=n(18),m=n(21),O=n(238),f=n(239),g=n(217),v=n(233),k=n(252),w=n(229),y=n(246),S=n(240),C=n(248),B=n(73),D=n.n(B),I=n(83),U=n(247),W=n(129),P=n(242),T=n(244),M={credentials:"same-origin"};function N(e){return _.apply(this,arguments)}function _(){return(_=Object(p.a)(x.a.mark((function e(t){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.status>=200&&t.status<300)){e.next=6;break}return e.next=3,t;case 3:n=e.sent,e.next=11;break;case 6:return a=new Error(t.statusText),e.next=9,t.json();case 9:a.response=e.sent,n=Promise.reject(a);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return e.includes("login")?{Accept:"application/json","Content-Type":"application/json"}:{Accept:"application/json","Content-Type":"application/json",Authorization:"bearer ".concat(localStorage.getItem("jwt"))}}function E(e){return"".concat("http://localhost:3001").concat(e)}var A={get:function(){var e=Object(p.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M.headers=F(t),e.next=3,fetch(E(t),M);case 3:return n=e.sent,e.next=6,N(n);case 6:return n=e.sent,e.abrupt("return",n.json());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),postPutDelete:function(){var e=Object(p.a)(x.a.mark((function e(t,n,a){var r,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:F(t),method:n,body:JSON.stringify(a)},e.next=3,fetch(E(t),Object.assign(r,M));case 3:return s=e.sent,e.next=6,N(s);case 6:return s=e.sent,e.abrupt("return",s.json());case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),post:function(e,t){return A.postPutDelete(e,"POST",t)},put:function(){var e=Object(p.a)(x.a.mark((function e(t,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A.postPutDelete(t,"PUT",n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(e,t){return A.postPutDelete(e,"DELETE",t)}},Y=A,q={login:function(e){return Y.post("/api/login",e)},getBooks:function(){return Y.get("/api/books")},getUsers:function(){return Y.get("/api/users")},getUserById:function(e){return Y.get("/api/users/".concat(e))},searchBook:function(e){return Y.get("/api/books/".concat(e))},searchUser:function(e){return Y.get("/api/users/search/".concat(e))},getuserBooks:function(e){return Y.get("/api/handlebooks/get-user-books/".concat(e))},attachBook:function(e){return Y.post("/api/handlebooks/attach",e)},detachBook:function(e){return Y.post("/api/handlebooks/detach",e)}},z=n(0);function V(e){return Object(z.jsxs)(I.a,Object(m.a)(Object(m.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(z.jsx)(y.a,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var R=Object(W.a)(),G=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(p.a)(x.a.mark((function e(t){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=new FormData(t.currentTarget),e.next=4,q.login({username:n.get("username"),password:n.get("password")});case 4:r=e.sent,console.log(r),0!==(null===r||void 0===r?void 0:r.result.length)?(localStorage.setItem("jwt",r.token),localStorage.setItem("user",null===r||void 0===r?void 0:r.result[0]._id),a.props.history.push("/dashboard")):alert("user not vlid");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),console.log(a.props),a}return Object(o.a)(n,[{key:"render",value:function(){return Object(z.jsx)(P.a,{theme:R,children:Object(z.jsxs)(U.a,{component:"main",maxWidth:"xs",children:[Object(z.jsx)(g.a,{}),Object(z.jsxs)(C.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(z.jsx)(O.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(z.jsx)(D.a,{})}),Object(z.jsx)(I.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(z.jsxs)(C.a,{component:"form",onSubmit:this.handleSubmit,noValidate:!0,sx:{mt:1},children:[Object(z.jsx)(v.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"USer Name",name:"username",autoFocus:!0}),Object(z.jsx)(v.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(z.jsx)(k.a,{control:Object(z.jsx)(w.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(z.jsx)(f.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(z.jsx)(S.a,{container:!0,children:Object(z.jsx)(S.a,{item:!0,children:Object(z.jsx)(T.a,{to:"/signup",style:{color:"inherit"},variant:"body2",children:"Don't have an account? Sign Up"})})})]})]}),Object(z.jsx)(V,{sx:{mt:8,mb:4}})]})})}}]),n}(a.Component);function H(e){return Object(z.jsxs)(I.a,Object(m.a)(Object(m.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(z.jsx)(y.a,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var J=Object(W.a)();function L(){return Object(z.jsx)(P.a,{theme:J,children:Object(z.jsxs)(U.a,{component:"main",maxWidth:"xs",children:[Object(z.jsx)(g.a,{}),Object(z.jsxs)(C.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(z.jsx)(O.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(z.jsx)(D.a,{})}),Object(z.jsx)(I.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(z.jsxs)(C.a,{component:"form",noValidate:!0,onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);console.log({email:t.get("email"),password:t.get("password")})},sx:{mt:3},children:[Object(z.jsxs)(S.a,{container:!0,spacing:2,children:[Object(z.jsx)(S.a,{item:!0,xs:12,sm:6,children:Object(z.jsx)(v.a,{autoComplete:"given-name",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),Object(z.jsx)(S.a,{item:!0,xs:12,sm:6,children:Object(z.jsx)(v.a,{required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"family-name"})}),Object(z.jsx)(S.a,{item:!0,xs:12,children:Object(z.jsx)(v.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(z.jsx)(S.a,{item:!0,xs:12,children:Object(z.jsx)(v.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password"})}),Object(z.jsx)(S.a,{item:!0,xs:12,children:Object(z.jsx)(k.a,{control:Object(z.jsx)(w.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."})})]}),Object(z.jsx)(f.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(z.jsx)(S.a,{container:!0,justifyContent:"flex-end",children:Object(z.jsx)(S.a,{item:!0,children:Object(z.jsx)(T.a,{to:"/signin",style:{color:"inherit"},children:"Already have an account? Sign in"})})})]})]}),Object(z.jsx)(H,{sx:{mt:5}})]})})}var X=n(13),$=n(5),K=n(4),Q=n(241),Z=n(255),ee=n(256),te=n(254),ne=n(223),ae=n(257),re=n(235),se=n(123),ce=n.n(se),ie=n(125),oe=n.n(ie),le=n(124),ue=n.n(le),je=n(232),de=n(221),he=n(222),be=n(269),xe=n(117),pe=n.n(xe),me=n(118),Oe=n.n(me),fe=n(120),ge=n.n(fe),ve=n(121),ke=n.n(ve),we=n(122),ye=n.n(we),Se=n(119),Ce=n.n(Se),Be=Object(z.jsxs)("div",{children:[Object(z.jsx)(T.a,{to:"/dashboard",style:{textDecoration:"none",color:"inherit"},children:Object(z.jsxs)(je.a,{button:!0,children:[Object(z.jsx)(de.a,{children:Object(z.jsx)(pe.a,{})}),Object(z.jsx)(he.a,{primary:"Dashboard"})]})}),Object(z.jsx)(T.a,{to:"/books",style:{textDecoration:"none",color:"inherit"},children:Object(z.jsxs)(je.a,{button:!0,children:[Object(z.jsx)(de.a,{children:Object(z.jsx)(Oe.a,{})}),Object(z.jsx)(he.a,{primary:"Books"})]})}),Object(z.jsx)(T.a,{to:"/users",style:{textDecoration:"none",color:"inherit"},children:Object(z.jsxs)(je.a,{button:!0,children:[Object(z.jsx)(de.a,{children:Object(z.jsx)(Ce.a,{})}),Object(z.jsx)(he.a,{primary:"Users"})]})}),Object(z.jsx)(T.a,{to:"/mybooks",style:{textDecoration:"none",color:"inherit"},children:Object(z.jsxs)(je.a,{button:!0,children:[Object(z.jsx)(de.a,{children:Object(z.jsx)(ge.a,{})}),Object(z.jsx)(he.a,{primary:"My books"})]})})]}),De=Object(z.jsxs)("div",{children:[Object(z.jsx)(be.a,{inset:!0,children:"My Profile"}),Object(z.jsx)(T.a,{to:"/dashboard",style:{textDecoration:"none",color:"inherit"},children:Object(z.jsxs)(je.a,{button:!0,children:[Object(z.jsx)(de.a,{children:Object(z.jsx)(ke.a,{})}),Object(z.jsx)(he.a,{primary:"Profile"})]})}),Object(z.jsx)(T.a,{to:"/dashboard",style:{textDecoration:"none",color:"inherit"},children:Object(z.jsxs)(je.a,{button:!0,children:[Object(z.jsx)(de.a,{children:Object(z.jsx)(ye.a,{})}),Object(z.jsx)(he.a,{primary:"Settings"})]})})]});function Ie(e){return Object(z.jsxs)(I.a,Object(m.a)(Object(m.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(z.jsx)(y.a,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var Ue=Object(K.a)(Z.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(m.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),We=Object(K.a)(Q.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return{"& .MuiDrawer-paper":Object(m.a)({position:"relative",whiteSpace:"nowrap",width:240,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box"},!n&&Object($.a)({overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7)},t.breakpoints.up("sm"),{width:t.spacing(9)}))}})),Pe=Object(W.a)();function Te(e){var t=a.useState(!0),n=Object(X.a)(t,2),r=n[0],s=n[1],c=function(){s(!r)};return Object(z.jsx)(P.a,{theme:Pe,children:Object(z.jsxs)(C.a,{sx:{display:"flex"},children:[Object(z.jsx)(g.a,{}),Object(z.jsx)(Ue,{position:"absolute",open:r,children:Object(z.jsxs)(ee.a,{sx:{pr:"24px"},children:[Object(z.jsx)(ae.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:c,sx:Object(m.a)({marginRight:"36px"},r&&{display:"none"}),children:Object(z.jsx)(ce.a,{})}),Object(z.jsx)(I.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:"Dashboard"}),Object(z.jsx)(ae.a,{color:"inherit",children:Object(z.jsx)(re.a,{badgeContent:4,color:"secondary",children:Object(z.jsx)(ue.a,{})})})]})}),Object(z.jsxs)(We,{variant:"permanent",open:r,children:[Object(z.jsx)(ee.a,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:Object(z.jsx)(ae.a,{onClick:c,children:Object(z.jsx)(oe.a,{})})}),Object(z.jsx)(ne.a,{}),Object(z.jsx)(te.a,{children:Be}),Object(z.jsx)(ne.a,{}),Object(z.jsx)(te.a,{children:De})]}),Object(z.jsxs)(C.a,{component:"main",sx:{backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900]},flexGrow:1,height:"100vh",overflow:"auto"},children:[Object(z.jsx)(ee.a,{}),Object(z.jsxs)(U.a,{maxWidth:"lg",sx:{mt:4,mb:4},children:[Object(z.jsx)(S.a,{container:!0,spacing:3,children:e.children}),Object(z.jsx)(Ie,{sx:{pt:4}})]})]})]})})}function Me(e){return Object(z.jsx)(Te,Object(m.a)({},e))}var Ne=n(258),_e=n(261),Fe=n(260),Ee=n(259),Ae=Object(W.a)();function Ye(e){return Object(z.jsx)(P.a,{theme:Ae,children:Object(z.jsx)("main",{children:Object(z.jsx)(U.a,{sx:{py:8},maxWidth:"lg",children:Object(z.jsx)(S.a,{container:!0,spacing:4,children:e.books.map((function(t){return Object(z.jsx)(S.a,{item:!0,xs:12,sm:6,md:4,children:Object(z.jsxs)(Ne.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(z.jsx)(Ee.a,{component:"img",sx:{},image:"https://source.unsplash.com/random",alt:"random"}),Object(z.jsxs)(Fe.a,{sx:{flexGrow:1},style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[Object(z.jsx)(I.a,{gutterBottom:!0,variant:"h5",component:"h2",sx:{flexShrink:0},children:(null===t||void 0===t?void 0:t.title.length)>20?"".concat(null===t||void 0===t?void 0:t.title.slice(0,20),"..."):null===t||void 0===t?void 0:t.title}),Object(z.jsxs)(I.a,{variant:"h6",component:"h6",children:["$",t.price]})]}),Object(z.jsxs)(_e.a,{children:[Object(z.jsx)(f.a,{onClick:function(){return e.onViewClick(t._id)},size:"small",children:"View"}),Object(z.jsx)(f.a,{size:"small",onClick:function(){return e.onButtonClick(t._id)},children:e.myBook?"Submit Book":"Get Book"})]})]})},t._id)}))})})})})}var qe=n(226),ze=n(128),Ve=n.n(ze),Re=n(127),Ge=n.n(Re),He={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function Je(e){var t=e.data,n=t.author_name,a=t.title,r=t.year_of_publish,s=t.edition,c=t.floor_no,i=t.section_name,o=t.rack_no;return Object(z.jsx)("div",{children:Object(z.jsx)(qe.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(z.jsxs)(C.a,{sx:He,children:[Object(z.jsx)(Ve.a,{style:{float:"right",cursor:"pointer"},onClick:e.handleClose}),Object(z.jsx)(I.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:a}),Object(z.jsxs)(I.a,{variant:"subtitle2",children:["Author Name: ",n]}),Object(z.jsxs)(I.a,{variant:"subtitle2",children:["Year Of Publish: ",Ge()(r).format("ll")]}),Object(z.jsxs)(I.a,{variant:"subtitle2",children:["Edition: ",s]}),Object(z.jsxs)(I.a,{variant:"subtitle2",children:["Floor No: ",c]}),Object(z.jsxs)(I.a,{variant:"subtitle2",children:["Section Name: ",i]}),Object(z.jsxs)(I.a,{variant:"subtitle2",children:["Rack Number: ",o]})]})})})}var Le=n(249),Xe=n(234),$e=n(253),Ke=n(250),Qe=n(75),Ze=n.n(Qe),et=n(224),tt=n(231),nt=n(230),at=a.forwardRef((function(e,t){return Object(z.jsx)(nt.a,Object(m.a)({elevation:6,ref:t,variant:"filled"},e))}));function rt(e){return Object(z.jsx)(et.a,{spacing:2,sx:{width:"100%"},children:Object(z.jsx)(tt.a,{open:e.open,autoHideDuration:1e3,children:Object(z.jsx)(at,{severity:"success",sx:{width:"100%"},children:e.message})})})}var st=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).getUser=function(){var e=Object(p.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getUserById(t);case 2:n=e.sent,a.setState({user:n.result}),console.log(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getBooks=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getBooks();case 2:t=e.sent,a.setState({books:t.result});case 4:case"end":return e.stop()}}),e)}))),a.handleSearch=function(e){a.setState({searchBook:e.target.value}),a.searchBook(e.target.value)},a.searchBook=function(){var e=Object(p.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.searchBook(t);case 2:n=e.sent,a.setState({books:n.result});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleButtonClick=function(){var e=Object(p.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.attachBook(Object(m.a)({newBookId:t},a.state.user));case 2:1===e.sent.result.modifiedCount&&(a.setState({alert:!0,alertMessage:"Book Added Successfully"}),n=setTimeout((function(){a.setState({alert:!1})}),3e3),clearTimeout(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={books:[],modelClick:!1,viewingBook:{},searchBook:"",user:{},alert:!1,alertMessage:"",userId:""},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("user"),this.getBooks(),this.getUser(t),this.setState({userId:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(z.jsxs)(Me,{children:[Object(z.jsxs)(Ke.a,{fullWidth:!0,sx:{m:1},variant:"standard",children:[Object(z.jsx)(Xe.a,{children:"Search"}),Object(z.jsx)(Le.a,{id:"standard-adornment-amount",value:this.state.searchBook,onChange:this.handleSearch,startAdornment:Object(z.jsx)($e.a,{position:"start",children:Object(z.jsx)(Ze.a,{})})})]}),Object(z.jsx)(Ye,{books:this.state.books,onViewClick:function(t){e.setState({modelClick:!0});var n=e.state.books.filter((function(e){return e._id===t}));e.setState({viewingBook:n[0]}),console.log(t,n[0])},onButtonClick:this.handleButtonClick}),Object(z.jsx)(Je,{open:this.state.modelClick,data:this.state.viewingBook,handleClose:function(){e.setState({modelClick:!1})}}),Object(z.jsx)(rt,{open:this.state.alert,message:this.state.alertMessage})]})}}]),n}(a.Component),ct=n(251),it=n(263),ot=n(267),lt=n(266),ut=n(262),jt=n(264),dt=n(227),ht=n(265);function bt(e){var t=a.useState(0),n=Object(X.a)(t,2),r=n[0],s=n[1],c=a.useState(10),i=Object(X.a)(c,2),o=i[0],l=i[1];return Object(z.jsxs)(ct.a,{sx:{width:"100%",overflow:"hidden"},children:[Object(z.jsx)(ut.a,{sx:{maxHeight:440},children:Object(z.jsxs)(it.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(z.jsx)(jt.a,{children:Object(z.jsx)(ht.a,{children:e.columns.map((function(e){return Object(z.jsx)(lt.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(z.jsx)(ot.a,{children:e.rows.slice(r*o,r*o+o).map((function(t){return Object(z.jsx)(ht.a,{hover:!0,role:"checkbox",tabIndex:-1,children:e.columns.map((function(e){var n=t[e.id];return Object(z.jsx)(lt.a,{align:e.align,children:e.format?e.format(n):n},e.id)}))},t._id)}))})]})}),Object(z.jsx)(dt.a,{rowsPerPageOptions:[10,25,100],component:"div",count:e.rows.length,rowsPerPage:o,page:r,onPageChange:function(e,t){s(t)},onRowsPerPageChange:function(e){l(+e.target.value),s(0)}})]})}var xt=[{id:"username",label:"Name",minWidth:170},{id:"email",label:"Email",minWidth:100},{id:"type",label:"Type",minWidth:170,align:"right",format:function(e){return 1===e?"librarian":"student"}},{id:"books",label:"books",minWidth:170,align:"right",format:function(e){return e.length}}],pt=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).getUsers=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getUsers();case 2:t=e.sent,console.log(t.result),a.setState({users:t.result});case 5:case"end":return e.stop()}}),e)}))),a.handleSearch=function(e){a.setState({searchUser:e.target.value}),a.searchUser(e.target.value)},a.searchUser=function(){var e=Object(p.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t){e.next=7;break}return e.next=3,q.searchUser(t);case 3:n=e.sent,a.setState({users:n.result}),e.next=8;break;case 7:a.getUsers();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={users:[],searchUser:""},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getUsers();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(z.jsxs)(Me,{children:[Object(z.jsxs)(Ke.a,{fullWidth:!0,sx:{m:1},variant:"standard",children:[Object(z.jsx)(Xe.a,{children:"Search"}),Object(z.jsx)(Le.a,{id:"standard-adornment-amount",value:this.state.searchUser,onChange:this.handleSearch,startAdornment:Object(z.jsx)($e.a,{position:"start",children:Object(z.jsx)(Ze.a,{})})})]}),Object(z.jsx)(S.a,{item:!0,xs:12,md:12,lg:12,children:Object(z.jsx)(ct.a,{sx:{p:2,display:"flex",flexDirection:"column"},children:Object(z.jsx)(bt,{rows:this.state.users,columns:xt})})})]})}}]),n}(a.Component),mt=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).getUser=function(){var e=Object(p.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getUserById(t);case 2:n=e.sent,a.setState({user:n.result});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getBooks=function(){var e=Object(p.a)(x.a.mark((function e(t){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getuserBooks(t);case 2:r=e.sent,a.setState({books:(null===r||void 0===r||null===(n=r.result)||void 0===n?void 0:n.books)||[]});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleButtonClick=function(){var e=Object(p.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.detachBook(Object(m.a)({oldBookId:t},a.state.user));case 2:1===e.sent.result.modifiedCount&&(a.setState({alert:!0,alertMessage:"Book Submitted Successfully"}),n=setTimeout((function(){a.setState({alert:!1})}),3e3),clearTimeout(n),a.getBooks(a.state.userId));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={books:[],modelClick:!1,viewingBook:{},searchBook:"",user:{},alert:!1,alertMessage:"",userId:""},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("user"),this.getBooks(t),this.getUser(t),this.setState({userId:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(z.jsxs)(Me,{children:[Object(z.jsx)(Ye,{books:this.state.books,myBook:!0,onViewClick:function(t){e.setState({modelClick:!0});var n=e.state.books.filter((function(e){return e._id===t}));e.setState({viewingBook:n[0]})},onButtonClick:this.handleButtonClick}),Object(z.jsx)(Je,{open:this.state.modelClick,data:this.state.viewingBook,handleClose:function(){e.setState({modelClick:!1})}}),Object(z.jsx)(rt,{open:this.state.alert,message:this.state.alertMessage})]})}}]),n}(a.Component),Ot=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).getUser=function(){var e=Object(p.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getUserById(t);case 2:n=e.sent,a.setState({user:n.result});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={user:{}},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("user"),this.getUser(t);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;return Object(z.jsx)(Me,{children:Object(z.jsx)(S.a,{item:!0,xs:12,md:12,lg:12,children:Object(z.jsx)(ct.a,{sx:{p:2,display:"flex",flexDirection:"column"},children:Object(z.jsx)("h1",{children:"welcome ".concat((null===(e=this.state.user)||void 0===e?void 0:e.username)||"")})})})})}}]),n}(r.a.Component),ft=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(z.jsx)(j.a,{children:Object(z.jsxs)(d.a,{children:[Object(z.jsx)(h.a,{path:"/signin",exact:!0,component:G}),Object(z.jsx)(h.a,{path:"/dashboard",exact:!0,component:Ot}),Object(z.jsx)(h.a,{path:"/signup",exact:!0,component:L}),Object(z.jsx)(h.a,{path:"/books",exact:!0,component:st}),Object(z.jsx)(h.a,{path:"/book/:id",exact:!0,component:st}),Object(z.jsx)(h.a,{path:"/users",exact:!0,component:pt}),Object(z.jsx)(h.a,{path:"/mybooks",exact:!0,component:mt}),Object(z.jsx)(h.a,{path:"*",component:G})]})})}}]),n}(r.a.Component),gt=ft;c.a.render(Object(z.jsx)(gt,{}),document.getElementById("root"))}},[[164,1,2]]]);
//# sourceMappingURL=main.f7e14f0c.chunk.js.map